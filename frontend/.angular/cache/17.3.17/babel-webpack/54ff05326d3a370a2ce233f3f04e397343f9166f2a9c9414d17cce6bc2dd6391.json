{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from 'angular/core';\nimport { environment } from '@environments/environment';\nlet JwtInterceptor = class JwtInterceptor {\n  constructor(accountService) {\n    this.accountService = accountService;\n  }\n  intercept(request, next) {\n    //add auth header with jwt if account is logged in and request is to the api url\n    const account = this.accountService.accountValue;\n    const isLoggedIn = account && account.jwtToken;\n    const isApiUrl = request.url.startsWith(environment.apiUrl);\n    if (isLoggedIn && isApiUrl) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${account.jwtToken}`\n        }\n      });\n    }\n    return next.handle(request);\n  }\n};\nJwtInterceptor = __decorate([Injectable()], JwtInterceptor);\nexport { JwtInterceptor };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}